# добавляем подписи
text(pl, 0.5, perc_labels, pos=3)
pl <- barplot(table(aggr_reg$reg_type),
main = "Типы регионов",
names.arg = c("город фед. \n знач.", "край", "область", "округ", "республика"),
col = "red",
ylab = "доля регионов (в %)", axes = FALSE)
# корректируем оси
axis(2, at = seq(from = 0, to = 50, by = 5))
# добавляем подписи
text(pl, 0.5, perc_labels, pos=table)
pl <- barplot(table(aggr_reg$reg_type),
main = "Типы регионов",
names.arg = c("город фед. \n знач.", "край", "область", "округ", "республика"),
col = "red",
ylab = "доля регионов (в %)", axes = FALSE)
# корректируем оси
axis(2, at = seq(from = 0, to = 50, by = 5))
# добавляем подписи
text(pl, 0.5, perc_labels, pos=table$freq)
str(perc)
pl <- barplot(table(aggr_reg$reg_type),
main = "Типы регионов",
names.arg = c("город фед. \n знач.", "край", "область", "округ", "республика"),
col = "red",
ylab = "доля регионов (в %)", axes = FALSE)
# корректируем оси
axis(2, at = seq(from = 0, to = 50, by = 5))
# добавляем подписи
text(pl, 1, perc_labels, pos=3)
pl <- barplot(table(aggr_reg$reg_type),
main = "Типы регионов",
names.arg = c("город фед. \n знач.", "край", "область", "округ", "республика"),
col = "red",
ylab = "доля регионов (в %)", axes = FALSE)
# корректируем оси
axis(2, at = seq(from = 0, to = 50, by = 5))
# добавляем подписи
text(pl, 0.5, perc_labels, pos=3)
pl <- barplot(table(aggr_reg$reg_type),
main = "Типы регионов",
names.arg = c("город фед. \n знач.", "край", "область", "округ", "республика"),
col = "tomato",
ylab = "доля регионов (в %)", axes = FALSE)
# корректируем оси
axis(2, at = seq(from = 0, to = 50, by = 5))
# добавляем подписи
text(pl, 0.2, perc_labels, pos=3)
pl <- barplot(table(aggr_reg$reg_type),
main = "Типы регионов",
names.arg = c("город фед. \n знач.", "край", "область", "округ", "республика"),
col = "tomato",
ylab = "доля регионов (в %)", axes = FALSE)
# корректируем оси
axis(2, at = seq(from = 0, to = 50, by = 5))
# добавляем подписи
text(pl, 0.2, perc_labels, pos=3)
pl <- barplot(table(aggr_reg$reg_type),
main = "Типы регионов",
names.arg = c("город фед. \n знач.", "край", "область", "округ", "республика"),
col = "tomato",
ylab = "доля регионов (в %)", axes = FALSE)
# корректируем оси
axis(2, at = seq(from = 0, to = 50, by = 5))
# добавляем подписи
text(x = pl, y = 0.1, labels = perc_labels, pos = 3)
pl <- barplot(table(aggr_reg$reg_type),
main = "Типы регионов",
names.arg = c("город фед. \n знач.", "край", "область", "округ", "республика"),
col = "tomato",
ylab = "доля регионов (в %)", axes = FALSE)
# корректируем оси
axis(2, at = seq(from = 0, to = 50, by = 5))
# добавляем подписи
text(x = pl, y = 0.1, labels = perc_labels, pos = 3, cex = 0.8)
pl <- barplot(table(aggr_reg$reg_type),
main = "Типы регионов",
names.arg = c("город фед. \n знач.", "край", "область", "округ", "республика"),
col = "tomato",
ylab = "доля регионов (в %)", axes = FALSE)
# корректируем оси
axis(2, at = seq(from = 0, to = 50, by = 5))
# добавляем подписи
text(x = pl, y = 0, labels = perc_labels, pos = 3, cex = 0.8)
pl <- barplot(table(aggr_reg$reg_type),
main = "Типы регионов",
names.arg = c("город фед. \n знач.", "край", "область", "округ", "республика"),
col = "tomato",
ylab = "доля регионов (в %)", axes = FALSE)
# корректируем оси
axis(2, at = seq(from = 0, to = 50, by = 5))
# добавляем подписи
text(x = pl, y = 0, labels = perc_labels, pos = 3, cex = 0.8)
pl <- barplot(table(aggr_reg$reg_type),
main = "Типы регионов",
names.arg = c("город фед. \n знач.", "край", "область", "округ", "республика"),
col = "tomato",
ylab = "доля регионов (в %)", axes = FALSE)
# корректируем оси
axis(2, at = seq(from = 0, to = 60, by = 5))
# добавляем подписи
text(x = pl, y = 0, labels = perc_labels, pos = 3, cex = 0.8)
barplot(table(aggr_reg$reg_type),
main = "Типы регионов",
names.arg = c("город фед. \n знач.", "край", "область", "округ", "республика"),
col = "red",
ylab = "доля регионов (в %)", axes = FALSE)
# корректируем оси
axis(2, at = seq(from = 0, to = 50, by = 5))
perc
barplot(perc),
main = "Типы регионов",
names.arg = c("город фед. \n знач.", "край", "область", "округ", "республика"),
col = "red",
ylab = "доля регионов (в %)", axes = FALSE)
# корректируем оси
axis(2, at = seq(from = 0, to = 50, by = 5))
barplot(perc,
main = "Типы регионов",
names.arg = c("город фед. \n знач.", "край", "область", "округ", "республика"),
col = "red",
ylab = "доля регионов (в %)", axes = FALSE)
# корректируем оси
axis(2, at = seq(from = 0, to = 60, by = 5))
barplot(perc,
main = "Типы регионов",
names.arg = c("город фед. \n знач.", "край", "область", "округ", "республика"),
col = "red",
ylab = "доля регионов (в %)", axes = FALSE)
# корректируем оси
axis(2, at = seq(from = 0, to = 65, by = 5))
pl <- barplot(perc,
main = "Типы регионов",
names.arg = c("город фед. \n знач.", "край", "область", "округ", "республика"),
col = "tomato",
ylab = "доля регионов (в %)", axes = FALSE)
# корректируем оси
axis(2, at = seq(from = 0, to = 60, by = 5))
# добавляем подписи
text(x = pl, y = 0, labels = perc_labels, pos = 3, cex = 0.8)
pl <- barplot(perc,
main = "Типы регионов",
names.arg = c("город фед. \n знач.", "край", "область", "округ", "республика"),
col = "tomato",
ylab = "доля регионов (в %)", axes = FALSE)
# корректируем оси
axis(2, at = seq(from = 0, to = 65, by = 5))
# добавляем подписи
text(x = pl, y = perc, labels = perc_labels, pos = 3, cex = 0.8)
pl <- barplot(perc,
main = "Типы регионов",
names.arg = c("город фед. \n знач.", "край", "область", "округ", "республика"),
col = "tomato",
ylab = "доля регионов (в %)", axes = FALSE)
# корректируем оси
axis(2, at = seq(from = 0, to = 65, by = 5))
# добавляем подписи
text(x = pl, y = perc, labels = perc_labels, pos = 3, cex = 0.8)
barplot(perc,
main = "Типы регионов",
names.arg = c("город фед. \n знач.", "край", "область", "округ", "республика"),
col = "red",
ylim = c(0, 65)
ylab = "доля регионов (в %)",
axes = FALSE)
# корректируем оси
axis(2, at = seq(from = 0, to = 65, by = 5))
barplot(perc,
main = "Типы регионов",
names.arg = c("город фед. \n знач.", "край", "область", "округ", "республика"),
col = "red",
ylim = c(0, 65),
ylab = "доля регионов (в %)",
axes = FALSE)
# корректируем оси
axis(2, at = seq(from = 0, to = 65, by = 5))
barplot(perc,
main = "Типы регионов",
names.arg = c("город фед. \n знач.", "край", "область", "округ", "республика"),
col = "red",
ylim = c(0, 65),
ylab = "доля регионов (в %)",
axes = FALSE)
# корректируем оси
axis(1)
axis(2, at = seq(from = 0, to = 65, by = 5))
pl <- barplot(perc,
main = "Типы регионов",
names.arg = c("город фед. \n знач.", "край", "область", "округ", "республика"),
col = "red",
ylab = "доля регионов (в %)", axes = FALSE)
# корректируем оси
axis(2, at = seq(from = 0, to = 65, by = 5))
# добавляем подписи
text(x = pl, y = perc, labels = perc_labels)
pl <- barplot(perc,
main = "Типы регионов",
names.arg = c("город фед. \n знач.", "край", "область", "округ", "республика"),
col = "red",
ylab = "доля регионов (в %)", axes = FALSE)
# корректируем оси
axis(2, at = seq(from = 0, to = 65, by = 5))
# добавляем подписи
text(x = pl, y = perc, labels = perc_labels, pos = 3)
pl <- barplot(perc,
main = "Типы регионов",
names.arg = c("город фед. \n знач.", "край", "область", "округ", "республика"),
col = "red",
ylim = c(0, 65),
ylab = "доля регионов (в %)",
axes = FALSE)
# корректируем оси
axis(2, at = seq(from = 0, to = 65, by = 5))
# добавляем подписи
text(x = pl, y = perc, labels = perc_labels, pos = 3)
pl <- barplot(perc,
main = "Типы регионов",
names.arg = c("город фед. \n знач.", "край", "область", "округ", "республика"),
col = "red",
ylim = c(0, 65),
ylab = "доля регионов (в %)",
axes = FALSE)
# корректируем оси
axis(2, at = seq(from = 0, to = 65, by = 5))
# добавляем подписи
text(x = pl, y = perc, labels = perc_labels, pos = 3)
?axis
el <- read.csv("47130-8314.csv", encoding = "UTF-8")
el <- el %>% select(kom1, kom2, kom3, X1, X9, X10, X19, X20, X21, X22, X23)
colnames(el) <- c("region", "tik", "uik", "total", "invalid", "valid",
"Zh", "Zug", "Mir", "Pro", "Put")
el <- el %>% mutate(turnout = invalid + valid)
el <- el %>% mutate(turnout_perc = turnout / total * 100)
el <- el %>% filter(region != "Территория за пределами РФ", region != "Город Байконур (Республика Казахстан)")
el <- na.omit(el)
View(el)
hist(el$turnout_perc)
el <- read.csv("47130-8314.csv", encoding = "UTF-8")
el <- el %>% select(kom1, kom2, kom3, X1, X9, X10, X19, X20, X21, X22, X23)
colnames(el) <- c("region", "tik", "uik", "total", "invalid", "valid",
"Zh", "Zug", "Mir", "Pro", "Put")
el <- el %>% mutate(turnout = invalid + valid)
el <- el %>% mutate(turnout_perc = turnout / total * 100)
el <- el %>% filter(region != "Территория за пределами РФ", region != "Город Байконур (Республика Казахстан)")
el <- na.omit(el)
aggr_reg  <- el %>% group_by(region) %>%
summarise(total = sum(total),
turnout = sum(turnout),
Zh = sum(Zh),
Zug = sum(Zug),
Mir = sum(Mir),
Pro = sum(Pro),
Put = sum(Put),
turnout_perc = sum(turnout)/sum(total) * 100)
aggr_reg <- aggr_reg %>% mutate(resp = as.integer(grepl(pattern = "Республика", region)),
oblast = as.integer(grepl(pattern = "область", region)),
okrug = as.integer(grepl(pattern = "округ", region)),
krai = as.integer(grepl(pattern = "край", region)),
gorod = as.integer(grepl(pattern = "Город", region)))
View(aggr_reg)
aggr_reg$reg_type <- names(aggr_reg[9:13])[max.col(aggr_reg[9:13])]
hist(aggr_reg$turnout_perc)
hist(aggr_reg$turnout_perc,
col = "lightgreen",
main = "Явка",
xlab = "явка",
ylab = "частоты")
hist(aggr_reg$turnout_perc,
col = "lightgreen",
main = "Выборы президента 2012 года. Явка (в %)",
xlab = "явка",
ylab = "частоты")
hist(aggr_reg$turnout_perc,
col = "lightgreen",
main = "Выборы президента 2012 года",
sub = "Явка (в %)",
xlab = "явка",
ylab = "частоты")
hist(aggr_reg$turnout_perc,
col = "lightgreen",
main = "Выборы президента 2012 года",
xlab = "Явка (в %)",
ylab = "частоты")
pie(perc)
pie(perc)
colors <- c('royalblue', 'slategray', 'thistle', 'slateblue', 'palevioletred')
pie(perc, col = colors)
colors <- c('snow', 'slategray', 'thistle', 'slateblue', 'palevioletred')
pie(perc, col = colors)
colors <- c('snow', 'slategray', 'thistle', 'palevioletred', 'slateblue')
pie(perc, col = colors)
colors <- c('snow', 'darkorchid', 'thistle', 'palevioletred', 'slateblue')
pie(perc, col = colors)
colors <- c('snow', 'plum2', 'thistle', 'palevioletred', 'slateblue')
pie(perc, col = colors)
colors <- c('snow', 'plum2', 'palevioletred', 'thistle', 'slateblue')
pie(perc, col = colors)
colors <- c('snow', 'plum2', 'palevioletred', 'orchid4', 'slateblue')
pie(perc, col = colors)
colors <- c('snow', 'plum2', 'palevioletred', 'orchid4', 'purple3')
pie(perc, col = colors)
colors <- c('thisle2', 'plum2', 'palevioletred', 'orchid4', 'purple3')
pie(perc, col = colors)
colors <- c('thistle2', 'plum2', 'palevioletred', 'orchid4', 'purple3')
pie(perc, col = colors)
labs = c("город фед. \n знач.", "край", "область", "округ", "республика")
# в отличие от barplot, для надписей используем аргумент labels
pie(perc, col = colors, main = "Типы регионов", labels = labs)
pie(perc, col = colors, main = "Типы регионов", labels = labs)
legend("topright", labs, fill = colors)
pie(perc, col = colors, main = "Типы регионов", labels = labs)
legend("topright", labs, cex = 0.8, fill = colors)
pie(perc, col = colors, main = "Типы регионов", labels = labs)
legend("topright", labs, cex = 0.6, fill = colors)
pie(perc, col = colors, main = "Типы регионов", labels = labs)
legend("topleft", labs, cex = 0.6, fill = colors)
pie(perc, col = colors, main = "Типы регионов", labels = labs)
legend("topleft", labs, cex = 0.6, fill = colors)
pie(perc, col = colors, main = "Типы регионов", labels = labs)
legend("topright", labs, cex = 0.8, fill = colors)
labs = c("город федерального значения", "край", "область", "округ", "республика")
pie(perc, col = colors, main = "Типы регионов", labels = labs)
pie(perc, col = colors, main = "Типы регионов", labels = labs)
?legend
pie(perc, col = colors, main = "Типы регионов", labels = labs)
legend("topright", labs, cex = 0.6, fill = colors)
pie(perc, col = colors, main = "Типы регионов", labels = labs)
legend(labs, cex = 0.6, fill = colors)
pie(perc, col = colors, main = "Типы регионов", labels = labs)
legend("topleft", labs, cex = 0.6, fill = colors)
labs = c("город федерального \n значения", "край", "область", "округ", "республика")
# в отличие от barplot, для надписей используем аргумент labels
pie(perc, col = colors, main = "Типы регионов", labels = labs)
pie(perc, col = colors, main = "Типы регионов", labels = labs)
legend("topleft", labs, cex = 0.6, fill = colors)
pie(perc, col = colors, main = "Типы регионов", labels = labs)
legend("topleft", labs, cex = 0.6, fill = colors)
pie(perc, col = colors, main = "Типы регионов", labels = labs)
legend("bottomleft", labs, cex = 0.6, fill = colors)
pie(perc, col = colors, main = "Типы регионов", labels = labs)
legend("left", labs, cex = 0.6, fill = colors)
pie(perc, col = colors, main = "Типы регионов", labels = labs)
legend("left", labs, cex = 0.8, fill = colors)
pie(perc, col = colors, main = "Типы регионов", labels = labs)
legend("left", labs, cex = 0.6, fill = colors)
hist(aggr_reg$turnout_perc)
hist(aggr_reg$turnout_perc)
hist(aggr_reg$turnout_perc, breaks = 10)
hist(aggr_reg$turnout_perc, breaks = 10)
hist(aggr_reg$turnout_perc, breaks = 20)
?hist
hist(aggr_reg$turnout_perc,
col = "lightgreen",
main = "Выборы президента 2012 года",
xlab = "Явка (в %)",
ylab = "Частоты")
hist(aggr_reg$turnout_perc,
col = "lightgreen",
main = "Выборы президента 2012 года",
xlab = "Явка (в %)",
ylab = "Частоты")
aggr_reg$turnout_perc<55
sum(aggr_reg$turnout_perc<55)
sum(aggr_reg$turnout_perc>90)
el <- read.csv("47130-8314.csv", encoding = "UTF-8")
el <- el %>% select(kom1, kom2, kom3, X1, X9, X10, X19, X20, X21, X22, X23)
colnames(el) <- c("region", "tik", "uik", "total", "invalid", "valid",
"Zh", "Zug", "Mir", "Pro", "Put")
el <- el %>% mutate(turnout = invalid + valid)
el <- el %>% mutate(turnout_perc = turnout / total * 100)
el <- el %>% filter(region != "Территория за пределами РФ", region != "Город Байконур (Республика Казахстан)")
el <- na.omit(el)
aggr_reg  <- el %>% group_by(region) %>%
summarise(total = sum(total),
turnout = sum(turnout),
Zh = sum(Zh),
Zug = sum(Zug),
Mir = sum(Mir),
Pro = sum(Pro),
Put = sum(Put))
aggr_reg <- aggr_reg %>% mutate(turnout_perc = turnout / total * 100,
Zh_perc = Zh / turnout * 100,
Zug_perc = Zug / turnout * 100,
Mir_perc = Mir / turnout * 100,
Pro_perc = Pro / turnout * 100,
Put_perc = Put / turnout * 100)
View(aggr_reg)
aggr_reg <- aggr_reg %>% mutate(resp = as.integer(grepl(pattern = "Республика", region)),
oblast = as.integer(grepl(pattern = "область", region)),
okrug = as.integer(grepl(pattern = "округ", region)),
krai = as.integer(grepl(pattern = "край", region)),
gorod = as.integer(grepl(pattern = "Город", region)))
View(aggr_reg)
View(aggr_reg[10:14])
View(aggr_reg[14:18])
View(aggr_reg[15:19])
boxplot(aggr_reg$Zug_perc, col = "greenyellow", main = "Процент голосов",
sub = 'Г.Зюганов ("Единая Россия")')
boxplot(aggr_reg$Zug_perc, col = "yellow", main = "Процент голосов",
sub = 'Зюганов ("Единая Россия")')
boxplot(aggr_reg$Zug_perc, col = "yellow", main = "Процент голосов",
sub = 'Зюганов ("Единая Россия")')
boxplot(aggr_reg$Zug_perc ~ region)
boxplot(aggr_reg$Zug_perc ~ aggr_regregion)
boxplot(aggr_reg$Zug_perc ~ aggr_reg$region)
boxplot(el$turnout_perc ~ el$region)
View(el)
el[region == "Республика Адыгея (Адыгея)"]
el[el$region == "Республика Адыгея (Адыгея)"]
df <- subset(el, el$region == "Республика Адыгея (Адыгея)")
View(df)
boxplot(df ~ tik, data = df)
df <- subset(el, el$region == "Республика Адыгея (Адыгея)")
boxplot(df ~ tik, data = df)
View(df)
str(df)
boxplot(turnout ~ tik, data = df)
boxplot(turnout ~ tik, data = df)
library(xlsx)
polit <- read.xlsx("/home/oem/Рабочий стол/polit.xlsx", 1)
library(foreign)
polit <- read.dta("/home/oem/Рабочий стол/polit.dta")
View(polit)
df <- polit %>% select(year, country, poco, eu, gov_right1,
gov_left1, gov_cent1, womenpar)
df <- polit %>% select(year, country, poco, eu, gov_right1,
gov_left1, gov_cent1, womenpar) %>%
filter(year == 2015)
View(df)
df <- polit %>% select(year, country, poco, eu, gov_right1,
gov_left1, gov_cent1, womenpar) %>%
filter(year > 2013)
View(df)
summarise(df)
summary(df)
df <- polit %>% select(year, country, poco, eu, gov_right1,
gov_left1, gov_cent1, womenpar) %>%
filter(year == 2012)
View(df)
summary(df)
df <- polit %>% select(year, country, poco, eu, gov_right1,
gov_left1, gov_cent1, womenpar) %>%
filter(year == 2015)
summary(df)
str(df)
summary(df)
df %>% group_by(poco) %>% summarise(n = n(), avg_womenpar = mean(womenpar))
library(stargazer)
tab <- df %>% group_by(poco) %>% summarise(n = n(), avg_womenpar = mean(womenpar))
stargazer(tab)
stargazer(tab, out = "table.htm")
stargazer(df, out = "table.htm")
stargazer(df, out = "table.htm")
?stargazer
stargazer(select(df, -year), out = "table.htm",
title = "Summary statistics")
stargazer(select(df, -year), out = "table.htm",
title = "Summary statistics",
covariate.labels = c("right", "left", "center", "women"))
stargazer(select(df, -year), out = "table.htm",
title = "Summary statistics",
covariate.labels = c("right", "left", "center", "women"),
digits = 2)
stargazer(select(df, -year), out = "table.htm",
title = "Summary statistics",
covariate.labels = c("right", "left", "center", "women"),
digits = 2,
omit.summary.stat = c("max", "min"))
stargazer(select(df, -year), out = "table.htm",
title = "Summary statistics",
covariate.labels = c("right", "left", "center", "women"),
digits = 2,
omit.summary.stat = c("max", "min"),
flip= T)
stargazer(select(df, -year), out = "table.htm",
title = "Summary statistics",
covariate.labels = c("right", "left", "center", "women"),
digits = 2,
omit.summary.stat = c("max", "min"))
stargazer(select(df, -year), out = "table.htm",
title = "Summary statistics",
covariate.labels = c("right", "left", "center", "women"),
digits = 2,
omit.summary.stat = c("max", "min", "n"))
stargazer(select(df, -year), out = "table.htm",
title = "Summary statistics",
covariate.labels = c("right", "left", "center", "women"),
digits = 2,
omit.summary.stat = c("max", "min", "n"),
median = T)
stargazer(select(df, -year), out = "table.htm",
title = "Summary statistics",
covariate.labels = c("right", "left", "center", "women"),
digits = 2,
omit.summary.stat = c("max", "min", "n"),
median = T,
note = "Summary statistics, 2015")
stargazer(select(df, -year), out = "table.htm",
title = "Summary statistics",
covariate.labels = c("right", "left", "center", "women"),
digits = 2,
omit.summary.stat = c("max", "min", "n"),
median = T,
notes = "Summary statistics, 2015")
stargazer(tab, out = "table2.htm", summary = F)
stargazer(tab, out = "table2.htm", summary = F, digit = 2)
stargazer(tab, out = "table2.htm", summary = F, digits = 2)
table(df$poco)
barplot(tab)
tab <- table(df$poco)
barplot(tab)
boxplot(data = df, womenpar ~ poco)
